<!DOCTYPE html>
<html lang="en">
    <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <script>
      (function () {
          try {
              var theme = localStorage.getItem('theme');
              if (! theme) {
                  theme = window.matchMedia('(prefers-color-scheme: dark)').matches
                      ? 'dark'
                      : 'light';
              }
              document.documentElement.setAttribute('data-theme', theme);
          } catch (e) {}
      })();
  </script>
  <title>{{ title or site.title }}</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sen:wght@400&display=optional"
        rel="stylesheet" media="print" onload="this.media='all'">
  <style>:root
  {
      --bg: #fffed7ff;
      --text: #222;
      --border: #eee;
      --footer-bg: #fdffe8ff;
      --footer-text: #555;
      --footer-link-bg: #202224ff;
      --link: #222;
      --link-hover: #007bff;
      --list-border: #f0f0f0;
  }
  [data-theme="dark"] {
      --bg: #141517ff;
      --text: #eaeaea;
      --border: #687075;
      --footer-bg: #0c0c0cff;
      --footer-text: #9fa3a5ff;
      --footer-link-bg: #393d3eff;
      --link: #eaeaea;
      --link-hover: #a5ff5b;
      --list-border: #23272a;
  }
  html,
  body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Sen",sans-serif;
      background: var(--bg);
      color: var(--text);
  }
  html,
  body,
  header,
  footer,
  main,
  .container {
      transition: background 0.3s, color 0.3s, border-color 0.3s;
  }
  body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
  }
  main.container {
      flex: 1 0 auto;
  }
  header,
  footer {
      background: none;
      color: var(--text);
      padding: 1.5rem 0 1rem;
      text-align: center;
      border-bottom: 1px solid var(--border);
  }
  footer {
      border-top: 1px solid var(--border);
      border-bottom: none;
      margin-top: 2rem;
      font-size: 0.95em;
      flex-shrink: 0;
      background: var(--footer-bg);
      color: var(--footer-text);
      letter-spacing: 0.01em;
  }
  footer nav ul {
      justify-content: center;
      gap: 1.2rem;
      margin-top: 0.5rem;
  }
  footer a {
      color: var(--footer-text);
      text-decoration: none;
      padding: 0 0.2em;
      border-radius: 2px;
      transition: background 0.2s, color 0.2s;
  }
  footer a:hover {
      background: var(--footer-link-bg);
      color: var(--link-hover);
  }
  h1,
  h2,
  h3 {
      margin: 1.5rem 0 1rem;
      font-weight: 500;
  }
  a {
      color: var(--link);
      text-decoration: underline;
      transition: color 0.2s;
  }
  a:hover {
      color: var(--link-hover);
  }
  .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 1.5rem 1rem;
      width: 100%;
      box-sizing: border-box;
  }
  main {
      width: 100%;
  }
  ul {
      list-style: none;
      padding: 0;
  }
  li {
      margin: 0.75rem 0;
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--list-border);
  }
  li:last-child {
      border-bottom: none;
  }
  nav ul {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      padding: 0;
      margin: 0.5rem 0 0;
  }
  nav ul li {
      border: none;
      margin: 0;
      padding: 0;
  }
  p {
      margin: 1rem 0;
  }
  .excerpt {
      margin: 0.25rem 0 0;
      font-size: 0.8em;
      color: var(--footer-text);
      line-height: 1.3
  }
  @media(max-width: 600px) {
      .container {
          padding: 1rem 0.5rem;
      }
      nav ul {
          gap: 1rem;
      }
  }
  @media(max-width: 400px) {
      nav ul {
          flex-direction: column;
          gap: 0.5rem;
      }
      header .container,
      footer .container {
          padding-left: 0.2rem;
          padding-right: 0.2rem;
      }
  }
  </style>
</head>
<body>
    {% include "components/header.njk" %}
    <main class="container">
        {% block content %}
            {{ content | safe }}
        {% endblock %}
    </main>
    {% include "components/footer.njk" %}
    <script>
        // Paste your minimal.js here
        (function () {
            const btn = document.getElementById("theme-toggle");
            if (! btn) 
                return;
            
            const root = document.documentElement;
            const darkQuery = window.matchMedia("(prefers-color-scheme: dark)");
            function setTheme(theme) {
                root.setAttribute("data-theme", theme);
                localStorage.setItem("theme", theme);
            }
            const saved = localStorage.getItem("theme");
            if (saved) 
                setTheme(saved);
             else if (darkQuery.matches) 
                setTheme("dark");
            
            btn.onclick = function () {
                setTheme(
                    root.getAttribute("data-theme") === "dark"
                    ? "light"
                    : "dark");
            };
        })();
    </script>
</body></html>